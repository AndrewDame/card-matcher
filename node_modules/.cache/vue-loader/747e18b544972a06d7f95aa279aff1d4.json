{"remainingRequest":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/src/components/Game.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/src/components/Game.vue","mtime":1608878776721},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/card-matcher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkQ29udGFpbmVyIGZyb20gJy4vQ2FyZENvbnRhaW5lci52dWUnOwppbXBvcnQgQmFja2dyb3VuZCBmcm9tICcuL0JhY2tncm91bmQudnVlJzsKaW1wb3J0IGdlbmVyYXRlQ2FyZExpc3QgZnJvbSAnLi4vbG9naWMvZ2FtZUluaXQuanMnOwppbXBvcnQgTWVzc2FnZSBmcm9tICcuL01lc3NhZ2UudnVlJwppbXBvcnQgU3RhdHVzQmFyIGZyb20gJy4vU3RhdHVzQmFyLnZ1ZScKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0dhbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIENhcmRDb250YWluZXIsCiAgICBCYWNrZ3JvdW5kLAogICAgTWVzc2FnZSwKICAgIFN0YXR1c0JhciwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucyhbJ3NldENhcmRMaXN0JywgJ3NldEZsaXBwZWRTdGF0dXNMaXN0JywgJ3RvZ2dsZUNhcmQnLCAndG9nZ2xlVmlzaWJpbGl0eScsICdzZXRWaXNpYmlsaXR5TGlzdCcsICdzZXRQcm9ncmVzc1N0YXR1cycsICdzZXRMb29zaW5nTGlmZVN0YXR1cycsICdkZWNyZWFzZUxpdmVzJywgJ3RvZ2dsZUdhbWVDb21wbGV0ZWQnXSksCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBudW1GbGlwcGVkQ2FyZHM6IHN0YXRlID0+IHsgCiAgICAgICAgICAgICAgbGV0IHJlZEZ1bmMgPSAoYWNjLCBjdXJyZW50VmFsdWUpID0+ICAoY3VycmVudFZhbHVlID09PSB0cnVlPyBhY2MgKyAxIDogYWNjKTsKICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZmxpcHBlZFN0YXR1c0xpc3QucmVkdWNlKHJlZEZ1bmMsIDApOwogICAgICB9LAogICAgICBmbGlwcGVkQ2FyZExpc3Q6IHN0YXRlID0+IHsKICAgICAgICBsZXQgY2FyZExpc3QgPSBbXQogICAgICAgIHN0YXRlLmZsaXBwZWRTdGF0dXNMaXN0LmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICBjYXJkTGlzdC5wdXNoKGluZGV4KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY2FyZExpc3Q7CiAgICAgIH0sCiAgICAgIGlzU3VjY2Vzczogc3RhdGUgPT4gewogICAgICAgIGxldCByZWRGdW5jID0gKGFjYywgY3VycmVudFZhbHVlKSA9PiAoYWNjID09PSBmYWxzZT8gYWNjIDogIWN1cnJlbnRWYWx1ZSk7CiAgICAgICAgcmV0dXJuIHN0YXRlLnZpc2liaWxpdHlMaXN0LnJlZHVjZShyZWRGdW5jLCB0cnVlKSAmJiAhc3RhdGUuY2hlY2tJblByb2dyZXNzOwogICAgICB9LAogICAgICBjaGVja0luUHJvZ3Jlc3M6IHN0YXRlID0+IHN0YXRlLmNoZWNrSW5Qcm9ncmVzcywKICAgICAgaXNHYW1lQ29tcGxldGVkOiBzdGF0ZSA9PiBzdGF0ZS5nYW1lQ29tcGxldGVkLAogICAgICBsaXZlczogc3RhdGUgPT4gc3RhdGUubGl2ZXMsCiAgICB9KSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgbGV0IHN0YXR1c0xpc3QgPSBbXTsKICAgIGxldCB2aXNpYmlsaXR5TGlzdCA9IFtdOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyArK2kpIHsKICAgICAgc3RhdHVzTGlzdC5wdXNoKGZhbHNlKTsKICAgICAgdmlzaWJpbGl0eUxpc3QucHVzaCh0cnVlKTsKICAgIH0KICAgIHRoaXMuc2V0RmxpcHBlZFN0YXR1c0xpc3Qoc3RhdHVzTGlzdCk7CiAgICB0aGlzLnNldFZpc2liaWxpdHlMaXN0KHZpc2liaWxpdHlMaXN0KTsKICAgIHRoaXMuc2V0Q2FyZExpc3QoZ2VuZXJhdGVDYXJkTGlzdCgpKTsKICB9LAogIHdhdGNoOiB7CiAgICBudW1GbGlwcGVkQ2FyZHM6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMubnVtRmxpcHBlZENhcmRzID09PSAyKSB7CiAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1N0YXR1cyh0cnVlKTsKICAgICAgICBsZXQgZmxpcHBlZEluZGljaWVzID0gWy4uLnRoaXMuZmxpcHBlZENhcmRMaXN0XTsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY2FyZExpc3RbZmxpcHBlZEluZGljaWVzWzBdXSA9PT0gdGhpcy4kc3RvcmUuc3RhdGUuY2FyZExpc3RbZmxpcHBlZEluZGljaWVzWzFdXSkgewogICAgICAgICAgbGV0IG1heEluZGV4ID0gTWF0aC5tYXgoLi4uZmxpcHBlZEluZGljaWVzKTsKICAgICAgICAgIGZsaXBwZWRJbmRpY2llcyA9IGZsaXBwZWRJbmRpY2llcy5maWx0ZXIobnVtID0+IG51bSAhPSBtYXhJbmRleCk7CiAgICAgICAgICBzZXRUaW1lb3V0KChpbmRleDEsIGluZGV4MikgPT4gewogICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2liaWxpdHkoaW5kZXgxKTsKICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmlsaXR5KGluZGV4Mik7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKGluZGV4MSwgaW5kZXgyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVDYXJkKGluZGV4MSk7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVDYXJkKGluZGV4Mik7CiAgICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1N0YXR1cyhmYWxzZSk7CiAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUdhbWVDb21wbGV0ZWQoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDAsIGluZGV4MSwgaW5kZXgyKQogICAgICAgICAgfSwgMTIwMCwgbWF4SW5kZXgsIGZsaXBwZWRJbmRpY2llc1swXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLnNldExvb3NpbmdMaWZlU3RhdHVzKHRydWUpOwogICAgICAgICAgICB0aGlzLmRlY3JlYXNlTGl2ZXMoKTsKICAgICAgICAgICAgdGhpcy50b2dnbGVDYXJkKGZsaXBwZWRJbmRpY2llc1swXSk7CiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2FyZChmbGlwcGVkSW5kaWNpZXNbMV0pOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNldFByb2dyZXNzU3RhdHVzKGZhbHNlKTsKICAgICAgICAgICAgICB0aGlzLnNldExvb3NpbmdMaWZlU3RhdHVzKGZhbHNlKTsKICAgICAgICAgICAgICBpZiAodGhpcy5saXZlcyA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy50b2dnbGVHYW1lQ29tcGxldGVkKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgIH0sIDEyMDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9Cn0KCg=="},{"version":3,"sources":["Game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Game.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div \n    class=\"Game\"\n    v-bind:class=\"{\n      'Game--success': isSuccess && isGameCompleted,\n    }\"\n  >\n    <Message :status=\"isGameCompleted\" :isSuccess=\"isSuccess\"/>\n    <StatusBar :status=\"isGameCompleted\" />\n    <Background :isSuccess=\"isSuccess\"/>\n    <CardContainer :status=\"isGameCompleted\"/>\n  </div>\n</template>\n\n<script>\nimport CardContainer from './CardContainer.vue';\nimport Background from './Background.vue';\nimport generateCardList from '../logic/gameInit.js';\nimport Message from './Message.vue'\nimport StatusBar from './StatusBar.vue'\nimport { mapMutations, mapState } from 'vuex'\n\nexport default {\n  name: 'Game',\n  components: {\n    CardContainer,\n    Background,\n    Message,\n    StatusBar,\n  },\n  methods: {\n    ...mapMutations(['setCardList', 'setFlippedStatusList', 'toggleCard', 'toggleVisibility', 'setVisibilityList', 'setProgressStatus', 'setLoosingLifeStatus', 'decreaseLives', 'toggleGameCompleted']),\n  },\n  computed: {\n    ...mapState({\n      numFlippedCards: state => { \n              let redFunc = (acc, currentValue) =>  (currentValue === true? acc + 1 : acc);\n              return state.flippedStatusList.reduce(redFunc, 0);\n      },\n      flippedCardList: state => {\n        let cardList = []\n        state.flippedStatusList.forEach((elem, index) => {\n          if (elem) {\n            cardList.push(index);\n          }\n        });\n        return cardList;\n      },\n      isSuccess: state => {\n        let redFunc = (acc, currentValue) => (acc === false? acc : !currentValue);\n        return state.visibilityList.reduce(redFunc, true) && !state.checkInProgress;\n      },\n      checkInProgress: state => state.checkInProgress,\n      isGameCompleted: state => state.gameCompleted,\n      lives: state => state.lives,\n    }),\n  },\n  mounted: function() {\n    let statusList = [];\n    let visibilityList = [];\n    for (let i = 0; i < 6; ++i) {\n      statusList.push(false);\n      visibilityList.push(true);\n    }\n    this.setFlippedStatusList(statusList);\n    this.setVisibilityList(visibilityList);\n    this.setCardList(generateCardList());\n  },\n  watch: {\n    numFlippedCards: function () {\n      if (this.numFlippedCards === 2) {\n        this.setProgressStatus(true);\n        let flippedIndicies = [...this.flippedCardList];\n        if (this.$store.state.cardList[flippedIndicies[0]] === this.$store.state.cardList[flippedIndicies[1]]) {\n          let maxIndex = Math.max(...flippedIndicies);\n          flippedIndicies = flippedIndicies.filter(num => num != maxIndex);\n          setTimeout((index1, index2) => {\n            this.toggleVisibility(index1);\n            this.toggleVisibility(index2);\n            setTimeout((index1, index2) => {\n              this.toggleCard(index1);\n              this.toggleCard(index2);\n              this.setProgressStatus(false);\n              if (this.isSuccess) {\n                this.toggleGameCompleted();\n              }\n            }, 1000, index1, index2)\n          }, 1200, maxIndex, flippedIndicies[0]);\n        } else {\n          setTimeout(() => {\n            this.setLoosingLifeStatus(true);\n            this.decreaseLives();\n            this.toggleCard(flippedIndicies[0]);\n            this.toggleCard(flippedIndicies[1]);\n            setTimeout(() => {\n              this.setProgressStatus(false);\n              this.setLoosingLifeStatus(false);\n              if (this.lives === 0) {\n                this.toggleGameCompleted();\n              }\n            }, 1500);\n          }, 1200);\n        }\n      }\n    },\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n\n.Game {\n    display: table;\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    background-color: #171717;\n    color: #000;\n    line-height: 1.6;\n    position: relative;\n    font-family: sans-serif;\n    overflow: hidden;\n    transition: background-color .8s;\n\n    &--success {\n    background: green !important;\n    }\n\n}\n\n\n* {\n    margin: 0;\n    padding: 0;\n}\n</style>"]}]}