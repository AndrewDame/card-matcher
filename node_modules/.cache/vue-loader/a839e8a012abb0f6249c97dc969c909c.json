{"remainingRequest":"/Users/andrewdame/Desktop/repos/card-matcher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andrewdame/Desktop/repos/card-matcher/src/components/Game.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andrewdame/Desktop/repos/card-matcher/src/components/Game.vue","mtime":1609047360050},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewdame/Desktop/repos/card-matcher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkQ29udGFpbmVyIGZyb20gJy4vQ2FyZENvbnRhaW5lci52dWUnOwppbXBvcnQgQmFja2dyb3VuZCBmcm9tICcuL0JhY2tncm91bmQudnVlJzsKaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9NZXNzYWdlLnZ1ZScKaW1wb3J0IFN0YXR1c0JhciBmcm9tICcuL1N0YXR1c0Jhci52dWUnCmltcG9ydCB7IG1hcE11dGF0aW9ucywgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHYW1lJywKICBjb21wb25lbnRzOiB7CiAgICBDYXJkQ29udGFpbmVyLAogICAgQmFja2dyb3VuZCwKICAgIE1lc3NhZ2UsCiAgICBTdGF0dXNCYXIsCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoWydzZXRDYXJkTGlzdCcsICdzZXRGbGlwcGVkU3RhdHVzTGlzdCcsICd0b2dnbGVDYXJkJywgJ3RvZ2dsZVZpc2liaWxpdHknLCAnc2V0VmlzaWJpbGl0eUxpc3QnLCAnc2V0UHJvZ3Jlc3NTdGF0dXMnLCAnc2V0TG9vc2luZ0xpZmVTdGF0dXMnLCAnZGVjcmVhc2VMaXZlcycsICdzZXRHYW1lQ29tcGxldGVkU3RhdHVzJ10pLAogICAgLi4ubWFwQWN0aW9ucyhbJ2luaXRpYWxpemVHYW1lJ10pCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBudW1GbGlwcGVkQ2FyZHM6IHN0YXRlID0+IHsgCiAgICAgICAgICAgICAgbGV0IHJlZEZ1bmMgPSAoYWNjLCBjdXJyZW50VmFsdWUpID0+ICAoY3VycmVudFZhbHVlID09PSB0cnVlPyBhY2MgKyAxIDogYWNjKTsKICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZmxpcHBlZFN0YXR1c0xpc3QucmVkdWNlKHJlZEZ1bmMsIDApOwogICAgICB9LAogICAgICBmbGlwcGVkQ2FyZExpc3Q6IHN0YXRlID0+IHsKICAgICAgICBsZXQgY2FyZExpc3QgPSBbXQogICAgICAgIHN0YXRlLmZsaXBwZWRTdGF0dXNMaXN0LmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICBjYXJkTGlzdC5wdXNoKGluZGV4KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY2FyZExpc3Q7CiAgICAgIH0sCiAgICAgIGlzU3VjY2Vzczogc3RhdGUgPT4gewogICAgICAgIGxldCByZWRGdW5jID0gKGFjYywgY3VycmVudFZhbHVlKSA9PiAoYWNjID09PSBmYWxzZT8gYWNjIDogIWN1cnJlbnRWYWx1ZSk7CiAgICAgICAgcmV0dXJuIHN0YXRlLnZpc2liaWxpdHlMaXN0LnJlZHVjZShyZWRGdW5jLCB0cnVlKSAmJiAhc3RhdGUuY2hlY2tJblByb2dyZXNzOwogICAgICB9LAogICAgICBjaGVja0luUHJvZ3Jlc3M6IHN0YXRlID0+IHN0YXRlLmNoZWNrSW5Qcm9ncmVzcywKICAgICAgaXNHYW1lQ29tcGxldGVkOiBzdGF0ZSA9PiBzdGF0ZS5nYW1lQ29tcGxldGVkLAogICAgICBsaXZlczogc3RhdGUgPT4gc3RhdGUubGl2ZXMsCiAgICB9KSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5nYW1lSW5pdGlhbGl6ZWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnV2VsY29tZSd9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBudW1GbGlwcGVkQ2FyZHM6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMubnVtRmxpcHBlZENhcmRzID09PSAyKSB7CiAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1N0YXR1cyh0cnVlKTsKICAgICAgICBsZXQgZmxpcHBlZEluZGljaWVzID0gWy4uLnRoaXMuZmxpcHBlZENhcmRMaXN0XTsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY2FyZExpc3RbZmxpcHBlZEluZGljaWVzWzBdXSA9PT0gdGhpcy4kc3RvcmUuc3RhdGUuY2FyZExpc3RbZmxpcHBlZEluZGljaWVzWzFdXSkgewogICAgICAgICAgbGV0IG1heEluZGV4ID0gTWF0aC5tYXgoLi4uZmxpcHBlZEluZGljaWVzKTsKICAgICAgICAgIGZsaXBwZWRJbmRpY2llcyA9IGZsaXBwZWRJbmRpY2llcy5maWx0ZXIobnVtID0+IG51bSAhPSBtYXhJbmRleCk7CiAgICAgICAgICBzZXRUaW1lb3V0KChpbmRleDEsIGluZGV4MikgPT4gewogICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2liaWxpdHkoaW5kZXgxKTsKICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmlsaXR5KGluZGV4Mik7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKGluZGV4MSwgaW5kZXgyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVDYXJkKGluZGV4MSk7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVDYXJkKGluZGV4Mik7CiAgICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1N0YXR1cyhmYWxzZSk7CiAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNldEdhbWVDb21wbGV0ZWRTdGF0dXModHJ1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDAwLCBpbmRleDEsIGluZGV4MikKICAgICAgICAgIH0sIDEyMDAsIG1heEluZGV4LCBmbGlwcGVkSW5kaWNpZXNbMF0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5zZXRMb29zaW5nTGlmZVN0YXR1cyh0cnVlKTsKICAgICAgICAgICAgdGhpcy5kZWNyZWFzZUxpdmVzKCk7CiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2FyZChmbGlwcGVkSW5kaWNpZXNbMF0pOwogICAgICAgICAgICB0aGlzLnRvZ2dsZUNhcmQoZmxpcHBlZEluZGljaWVzWzFdKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zZXRMb29zaW5nTGlmZVN0YXR1cyhmYWxzZSk7CiAgICAgICAgICAgICAgaWYgKHRoaXMubGl2ZXMgPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0R2FtZUNvbXBsZXRlZFN0YXR1cyh0cnVlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1N0YXR1cyhmYWxzZSk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgfSwgMTIwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0KfQoK"},{"version":3,"sources":["Game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Game.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div \n    class=\"Game\"\n    v-bind:class=\"{\n      'Game--success': isSuccess && isGameCompleted,\n    }\"\n  >\n    <Message :status=\"isGameCompleted\" :isSuccess=\"isSuccess\"/>\n    <StatusBar :status=\"isGameCompleted\" />\n    <Background :isSuccess=\"isSuccess\"/>\n    <CardContainer />\n  </div>\n</template>\n\n<script>\nimport CardContainer from './CardContainer.vue';\nimport Background from './Background.vue';\nimport Message from './Message.vue'\nimport StatusBar from './StatusBar.vue'\nimport { mapMutations, mapState, mapActions } from 'vuex'\n\nexport default {\n  name: 'Game',\n  components: {\n    CardContainer,\n    Background,\n    Message,\n    StatusBar,\n  },\n  methods: {\n    ...mapMutations(['setCardList', 'setFlippedStatusList', 'toggleCard', 'toggleVisibility', 'setVisibilityList', 'setProgressStatus', 'setLoosingLifeStatus', 'decreaseLives', 'setGameCompletedStatus']),\n    ...mapActions(['initializeGame'])\n  },\n  computed: {\n    ...mapState({\n      numFlippedCards: state => { \n              let redFunc = (acc, currentValue) =>  (currentValue === true? acc + 1 : acc);\n              return state.flippedStatusList.reduce(redFunc, 0);\n      },\n      flippedCardList: state => {\n        let cardList = []\n        state.flippedStatusList.forEach((elem, index) => {\n          if (elem) {\n            cardList.push(index);\n          }\n        });\n        return cardList;\n      },\n      isSuccess: state => {\n        let redFunc = (acc, currentValue) => (acc === false? acc : !currentValue);\n        return state.visibilityList.reduce(redFunc, true) && !state.checkInProgress;\n      },\n      checkInProgress: state => state.checkInProgress,\n      isGameCompleted: state => state.gameCompleted,\n      lives: state => state.lives,\n    }),\n  },\n  mounted: function() {\n    if (!this.$store.state.gameInitialized) {\n      this.$router.push({ name: 'Welcome'});\n    }\n  },\n  watch: {\n    numFlippedCards: function () {\n      if (this.numFlippedCards === 2) {\n        this.setProgressStatus(true);\n        let flippedIndicies = [...this.flippedCardList];\n        if (this.$store.state.cardList[flippedIndicies[0]] === this.$store.state.cardList[flippedIndicies[1]]) {\n          let maxIndex = Math.max(...flippedIndicies);\n          flippedIndicies = flippedIndicies.filter(num => num != maxIndex);\n          setTimeout((index1, index2) => {\n            this.toggleVisibility(index1);\n            this.toggleVisibility(index2);\n            setTimeout((index1, index2) => {\n              this.toggleCard(index1);\n              this.toggleCard(index2);\n              this.setProgressStatus(false);\n              if (this.isSuccess) {\n                this.setGameCompletedStatus(true);\n              }\n            }, 1000, index1, index2)\n          }, 1200, maxIndex, flippedIndicies[0]);\n        } else {\n          setTimeout(() => {\n            this.setLoosingLifeStatus(true);\n            this.decreaseLives();\n            this.toggleCard(flippedIndicies[0]);\n            this.toggleCard(flippedIndicies[1]);\n            setTimeout(() => {\n              this.setLoosingLifeStatus(false);\n              if (this.lives === 0) {\n                this.setGameCompletedStatus(true);\n              }\n              this.setProgressStatus(false);\n            }, 1500);\n          }, 1200);\n        }\n      }\n    },\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n\n.Game {\n    display: table;\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    background-color: #171717;\n    color: #000;\n    line-height: 1.6;\n    position: relative;\n    font-family: sans-serif;\n    overflow: hidden;\n    transition: background-color .8s;\n\n    &--success {\n    background: green !important;\n    }\n\n}\n\n</style>"]}]}